<!DOCTYPE html>
<html>

<head>
  <title>TPK Builder</title>
  <link rel="stylesheet" href="index.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=PT+Serif&family=Anonymous+Pro:wght@700&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A tool to create Passives and CMs for TPK">
  <meta name="author" content="ashglory">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
  <h1>TPK Passive and CM Builder</h1>
  <hr>
  <div class="explanation"><p>Welcome to the Passive and CM Builder for The Pillar Kingdoms RP site! This tool is designed to help you put together your passives and CMs easily while also seeing how much dirham they'd cost.</p>
  <p>Please do note that this is still a really early build so there are a lot of features that aren't in yet. Namely:</p>
<ul>
  <li>Numerical effects of perks in passives are NOT halved in this tool.</li>
</ul>
<p>If you have any questions about using this builder, or any issues to report, please contact me through Discord @ashglory#8019</p></div>
  <h2 onclick="hideTutorial()">How to use</h2>
  <div id="hidetut" style="display:none">
    <ol>
      <li>First select whether you want to build a Passive or a Combat Maneuver (CM).</li>
        <ul>
          <li>Remember that passives may only contain up to 2 perks, while CMs may contain up to 3.</li>
        </ul>
      <li>Next, select the primary technique (and if applicable, secondary techniques and skill) you will be using for this ability. Certain perks may only be used with certain types of techniques. Upon clicking the 'Get available perks' button, you will see a list of perks that your technique(s) may take.</li>
      <li>Select the perks you would like to use.</li>
        <ul>
          <li>Remember that the numerical effects of perks in passives are halved.</li>
          <li>You can double up on a perk within a passive, but doing so will add a 50 dirham surcharge to the whole passive.</li>
          <li>Special perks cannot be combined with other perks.</li>
          <li>Perks that are available to be taken with your <span class="primary">Primary Technique</span> will appear in pale purple. Perks that you can take with your <span class="secondary">Secondary Technique</span> will be dark purple.</li>
        </ul>
      <li>The total cost for your constructed ability will be displayed as you select perks to add.</li>
      </ol>
    </div>

<h2 onclick="hideLinks()">Helpful Links</h2>
<div id="hidelinks" style="display:none">
  <ul>
    <li><a href=http://tpk.jcink.net/index.php?showtopic=13>Ability Shop</a></li>
    <li><a href=http://tpk.jcink.net/index.php?showtopic=124>A Guide to Abilites: How to Establish Character Identity</a> by Lexiichuu</li>
    <li><a href=http://tpk.jcink.net/index.php?act=Pages&pid=1#condition>Conditions</a>
    <li><a href=http://tpk.jcink.net/index.php?act=Pages&pid=2>TPK Quick Reference</a>
  </ul>
</div>

<h3 onclick="hideChanges()">Changelog</h3>
<div id="hidechanges" style="display:none">
  <span class="t">August 6, 2020</span>
  <ul>
    <li>Special perks can no longer be combined with other perks.</li>
    <li>Two way selection is now possible! Now it doesn't matter what order you click the empty perk box and the selected perk in.</li>
    <li>Highlighting has been improved so it's easier to tell which perk you have selected.</li>
  </ul>
  <span class="t">August 5, 2020</span>
  <ul>
    <li>Hopefully made it look a bit better for mobile devices.</li>
    <li>Primary and Secondary Techniques are now distinguishable! For example: the perk "Add a secondary offensive technique's dice pool to your rolled damage" can now only be selected if you have chosen an Offensive technique as a secondary. Primary technique perks are light purple, Secondary technique perks are dark purple.</li>
  </ul>
  <span class="t">August 3, 2020</span>
  <ul>
    <li>Added the ability to deselect perks after adding them to your ability.</li>
    <li>Added a box container and made it so the searched perks list doesn't stretch the screen. The perk list is scrollable.</li>
  </ul>
</div>

<hr>
<h1>Ability Builder</h1>
<div class="container">
  <div class="left">
    I am making a:

  <select id = "aType">
    <option value = "nothing"></option>
    <option value = "passive">Passive</option>
    <option value = "cm">Combat Maneuver</option>
  </select>
  <br>

  <button id ="builder" onclick="loadBuilder()">Build</button>
  <button onclick="resetBuilder()">Reset</button>

  <p id="typetext"></p>

  <formfield>
  Primary Technique:
  <select id = "tTypeP" disabled="disabled">
    <option value=""></option>
    <option value = "aeolianO">Aeolian (Off)</option>
    <option value = "aeolianS">Aeolian (Sup)</option>
    <option value = "alchemyO">Alchemy (Off)</option>
    <option value = "alchemyS">Alchemy (Supp)</option>
    <option value = "animalismO">Animalism (Off)</option>
    <option value = "animalismC">Animalism (Com)</option>
    <option value = "aquanO">Aquan (Off)</option>
    <option value = "aquanS">Aquan (Sup)</option>
    <option value = "blightO">Blight (Off)</option>
    <option value = "blightD">Blight (Def)</option>
    <option value = "bludgeoningO">Bludgeoning (Off)</option>
    <option value = "chronomancyD">Chronomancy (Def)</option>
    <option value = "chronomancyS">Chronomancy (Sup)</option>
    <option value = "divineS">Divine (Sup)</option>
    <option value = "divineC">Divine (Com)</option>
    <option value = "glamourD">Glamour (Def)</option>
    <option value = "glamourS">Glamour (Sup)</option>
    <option value = "illusionD">Illusion (Def)</option>
    <option value = "illusionS">Illusion (Sup)</option>
    <option value = "mobilityO">Mobility (Off)</option>
    <option value = "mobilityD">Mobility (Def)</option>
    <option value = "occultismD">Occultism (Def)</option>
    <option value = "occultismC">Occultism (Com)</option>
    <option value = "parryO">Parry (Off)</option>
    <option value = "parryD">Parry (Def)</option>
    <option value = "permafrostD">Permafrost (Def)</option>
    <option value = "permafrostS">Permafrost (Sup)</option>
    <option value = "physiqueD">Physique (Def)</option>
    <option value = "physiqueS">Physique (Sup)</option>
    <option value = "piercingO">Piercing (Off)</option>
    <option value = "psionicsD">Psionics (Def)</option>
    <option value = "psionicsS">Psionics (Sup)</option>
    <option value = "pyroclasmO">Pyroclasm (Off)</option>
    <option value = "pyroclasmS">Pyroclasm (Sup)</option>
    <option value = "sanguinationO">Sanguination (Off)</option>
    <option value = "sanguinationS">Sanguination (Sup)</option>
    <option value = "shadowO">Shadow (Off)</option>
    <option value = "shadowD">Shadow (Def)</option>
    <option value = "shieldD">Shield (Def)</option>
    <option value = "shieldC">Shield (Com)</option>
    <option value = "slashingO">Slashing (Off)</option>
    <option value = "summoningO">Summoning (Off)</option>
    <option value = "summoningC">Summoning (Com)</option>
    <option value = "terraO">Terra (Off)</option>
    <option value = "terraD">Terra (Def)</option>
    <option value = "vengeanceO">Vengeance (Off)</option>
    <option value = "vengeanceD">Vengeance (Def)</option>
    <option value = "voltaicO">Voltaic (Off)</option>
    <option value = "voltaicS">Voltaic (Sup)</option>
    <option value = "wardingD">Warding (Def)</option>
    <option value = "wardingS">Warding (Sup)</option>
    <option value = "wildcraftS">Wildcraft (Sup)</option>
    <option value = "wildcraftC">Wildcraft (Com)</option>
  </select>

  <br>

  Secondary Technique:
  <select id = "tTypeS" disabled="disabled">
    <option value="">--</option>
    <option value = "aeolianO">Aeolian (Off)</option>
    <option value = "aeolianS">Aeolian (Sup)</option>
    <option value = "alchemyO">Alchemy (Off)</option>
    <option value = "alchemyS">Alchemy (Supp)</option>
    <option value = "animalismO">Animalism (Off)</option>
    <option value = "animalismC">Animalism (Com)</option>
    <option value = "aquanO">Aquan (Off)</option>
    <option value = "aquanS">Aquan (Sup)</option>
    <option value = "blightO">Blight (Off)</option>
    <option value = "blightD">Blight (Def)</option>
    <option value = "bludgeoningO">Bludgeoning (Off)</option>
    <option value = "chronomancyD">Chronomancy (Def)</option>
    <option value = "chronomancyS">Chronomancy (Sup)</option>
    <option value = "divineS">Divine (Sup)</option>
    <option value = "divineC">Divine (Com)</option>
    <option value = "glamourD">Glamour (Def)</option>
    <option value = "glamourS">Glamour (Sup)</option>
    <option value = "illusionD">Illusion (Def)</option>
    <option value = "illusionS">Illusion (Sup)</option>
    <option value = "mobilityO">Mobility (Off)</option>
    <option value = "mobilityD">Mobility (Def)</option>
    <option value = "occultismD">Occultism (Def)</option>
    <option value = "occultismC">Occultism (Com)</option>
    <option value = "parryO">Parry (Off)</option>
    <option value = "parryD">Parry (Def)</option>
    <option value = "permafrostD">Permafrost (Def)</option>
    <option value = "permafrostS">Permafrost (Sup)</option>
    <option value = "physiqueD">Physique (Def)</option>
    <option value = "physiqueS">Physique (Sup)</option>
    <option value = "piercingO">Piercing (Off)</option>
    <option value = "psionicsD">Psionics (Def)</option>
    <option value = "psionicsS">Psionics (Sup)</option>
    <option value = "pyroclasmO">Pyroclasm (Off)</option>
    <option value = "pyroclasmS">Pyroclasm (Sup)</option>
    <option value = "sanguinationO">Sanguination (Off)</option>
    <option value = "sanguinationS">Sanguination (Sup)</option>
    <option value = "shadowO">Shadow (Off)</option>
    <option value = "shadowD">Shadow (Def)</option>
    <option value = "shieldD">Shield (Def)</option>
    <option value = "shieldC">Shield (Com)</option>
    <option value = "slashingO">Slashing (Off)</option>
    <option value = "summoningO">Summoning (Off)</option>
    <option value = "summoningC">Summoning (Com)</option>
    <option value = "terraO">Terra (Off)</option>
    <option value = "terraD">Terra (Def)</option>
    <option value = "vengeanceO">Vengeance (Off)</option>
    <option value = "vengeanceD">Vengeance (Def)</option>
    <option value = "voltaicO">Voltaic (Off)</option>
    <option value = "voltaicS">Voltaic (Sup)</option>
    <option value = "wardingD">Warding (Def)</option>
    <option value = "wardingS">Warding (Sup)</option>
    <option value = "wildcraftS">Wildcraft (Sup)</option>
    <option value = "wildcraftC">Wildcraft (Com)</option>
  </select>

   <br>

   Skill: <select id="skill" disabled="disabled">
    <option value="">--</option>
    <option value="str">STR</option>
    <option value="dex">DEX</option>
    <option value="con">CON</option>
    <option value="int">INT</option>
    <option value="wis">WIS</option>
    <option value="cha">CHA</option>
  </select>
  </formfield>
  <br>

  <button id="perkbutton" disabled onclick="getPerks()">Get available perks</button>
  &nbsp;<button id="clearbutton" disabled onclick="clearPerk()">Remove selected perk</button>

  <br><br>

  <div class="perkbox" id="p1" style="visibility:hidden; display:block;">PERK #1</div>
  <div class="perkbox" id="p2" style="visibility:hidden; display:block;">PERK #2</div>
  <div class="perkbox" id="p3" style="visibility:hidden; display:block;">PERK #3</div>

  <span id="perkcost"></span>
</div>
<div class="right" id="rightbox">
</div>

</div>

<script src="index.js"></script>
</body>

</html>
